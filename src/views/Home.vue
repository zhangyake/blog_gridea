<template>
  <div class="post-container">
    <article
      class="post"
      v-for="(item, index) in articles"
      :key="'article' + index"
    >
      <a
        href="#"
        @click="$router.push({ name: 'post', params: { id: item.id } })"
      >
        <h2 class="post-title" v-text="item.title"></h2>
      </a>
      <div class="post-info">
        <time class="post-time"> </time>
        <span> Â· {{ item.created_at }} Â· </span>
        <span> {{ item.page_view }} min read </span>
        <a href="https://zhangyake.github.io/hve/tag/gridea" class="post-tag">
          # Gridea
        </a>
      </div>

      <a
        href="#"
        @click="$router.push({ name: 'post', params: { id: item.id } })"
        class="post-feature-image"
        :style="{ backgroundImage: 'url(' + item.page_image_url + ')' }"
      >
      </a>

      <div class="post-abstract">
        <p>
          ğŸ‘ æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br />
          âœï¸
          <strong>Gridea</strong>
          ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„...
          ...
        </p>
      </div>
    </article>
  </div>
</template>

<script>
export default {
  name: "home",
  components: {},
  data() {
    return {
      articles: []
    };
  },
  mounted() {
    this.getArticleList();
  },
  methods: {
    getArticleList() {
      this.api.getArticleList().then(res => {
        this.articles = res.data;
      });
    }
  }
};
</script>
